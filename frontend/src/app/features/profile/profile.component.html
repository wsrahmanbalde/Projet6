<div class="profile-container">
    
    <h2 class="title">Profil utilisateur</h2>
  
    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="profile-form">
      <div class="form-group">
        <input type="email" formControlName="email" />
      </div>
      <div class="form-group">
        <input type="text" formControlName="username" />
      </div>
      <div class="form-group">
        <input type="password" formControlName="password" placeholder="Mot de passe" required />
      </div>

      <button type="submit" class="submit-btn" [disabled]="profileForm.invalid">Sauvegarder</button>
      
    </form>

    <hr class="separator" />

    <h3>Abonnements</h3>

    @if (userData?.subscriptions?.length ?? 0 > 0) {
        <div class="container">
          @for (sub of userData!.subscriptions; track sub.id) {
            <div class="card">
              <div class="card-title">{{ sub.name }}</div>
              <div class="card-content">
                {{ sub.description }}
              </div>
              <div class="card-button-wrapper">
                <button (click)="toggleSubscription(sub.name)" class="submit-btn">
                  Se désabonner
                </button>
              </div>
            </div>
          }
        </div>
      } @else {
        <p>Vous n'êtes abonné à aucun theme.</p>
      }


  </div>
